{
    "trading_params": {
        "min_volume_usdc": 50000,
        "min_price_change_pct": 0.5,
        "position_size": 0.4,
        "max_positions": 5,
        "stop_loss_pct": 2.0,
        "take_profit_pct": 4.0,
        "min_trade_amount": 40,
        "ai_analysis_interval": 60,
        "ai_confidence_threshold": 0.7,
        "price_precision": 4,
        "quantity_precision": 6,
        "candle_interval": "1m"
    },
    "risk_management": {
        "max_portfolio_var": 0.05,
        "confidence_level": 0.95,
        "var_lookback_days": 30,
        "max_portfolio_allocation": 0.25,
        "correlation_threshold": 0.7,
        "min_volatility_factor": 0.5,
        "max_volatility_factor": 2.0,
        "volatility_lookback_days": 14,
        "max_drawdown_limit": 0.15,
        "position_sizing_method": "equal_risk",
        "core_position_limit": 0.5,
        "satellite_position_limit": 0.2,
        "portfolio_var_breach_action": "reduce_risk",
        "adaptive_stop_loss_enabled": true,
        "trailing_stop_loss_enabled": true,
        "trailing_stop_settings": {
            "activation_threshold_pct": 1.0,
            "trail_percent": 0.8,
            "step_size": 0.2,
            "max_adjustment_frequency_seconds": 30,
            "strategy": "percent_based",
            "min_price_movement_pct": 0.5,
            "strategies": {
                "percent_based": {
                    "trail_percent": 0.8,
                    "min_trail_distance": 0.5
                },
                "atr_based": {
                    "atr_multiplier": 2.0,
                    "min_periods": 14
                },
                "volatility_based": {
                    "volatility_multiplier": 1.5,
                    "lookback_periods": 20
                },
                "fixed_amount": {
                    "trail_amount_usdc": 5.0,
                    "min_adjustment_pct": 0.2
                }
            }
        },
        "social_risk_adjustment": {
            "enabled": true,
            "position_size_impact": 0.3,
            "stop_loss_impact": 0.2,
            "take_profit_impact": 0.4,
            "correlation_impact": 0.25,
            "sentiment_weights": {
                "twitter_sentiment": 0.35,
                "reddit_sentiment": 0.30,
                "news_sentiment": 0.25,
                "overall_sentiment": 0.10
            },
            "risk_factor_weights": {
                "sentiment_score": 0.45,
                "social_volume": 0.20,
                "social_engagement": 0.25,
                "social_contributors": 0.10
            },
            "volatility_modifier": 0.15,
            "news_impact_factor": 0.35,
            "sentiment_half_life": 6,
            "min_data_quality": 0.5,
            "bullish_threshold": 0.65,
            "bearish_threshold": 0.35,
            "max_adjustment_percent": 0.5,
            "update_interval_seconds": 60
        },
        "monte_carlo": {
            "enabled": true,
            "num_simulations": 1000,
            "time_horizon_days": 30,
            "confidence_level": 0.95,
            "lookback_days": 60,
            "return_method": "log",
            "simulation_method": "geometric_brownian_motion",
            "plot_chart": true,
            "generate_reports": true,
            "report_frequency": "daily",
            "store_all_paths": false,
            "scenarios": {
                "base": {},
                "bull": {"drift_factor": 1.5, "volatility_factor": 0.8},
                "bear": {"drift_factor": 0.5, "volatility_factor": 1.2},
                "volatile": {"drift_factor": 1.0, "volatility_factor": 2.0},
                "crab": {"drift_factor": 0.2, "volatility_factor": 0.5}
            },
            "position_sizing_impact": true,
            "risk_assessment_thresholds": {
                "high_risk_var": 15.0,
                "medium_risk_var": 10.0,
                "low_risk_var": 5.0
            }
        }
    },
    "openai": {
        "model": "gpt-4o",
        "temperature": 0.7,
        "max_tokens": 2000,
        "analysis_prompt": "As a cryptocurrency trading expert, analyze the market conditions for {symbol} with:\n\nPrice Action:\nPrice: ${price:.8f}\n24h Volume: ${volume:.2f}\n1m Change: {price_change_1m:.2f}%\n3m Change: {price_change_3m:.2f}%\n5m Change: {price_change_5m:.2f}%\n15m Change: {price_change_15m:.2f}%\n\nTechnical Indicators:\n- RSI: {rsi:.2f}\n- Stochastic K: {stoch:.2f}\n- MACD: {macd:.8f}\n- Williams %R: {williams_r:.2f}\n- Bollinger Band Position: {bb_position:.4f}\n\nMarket Trend:\n- Direction: {trend}\n- Strength: {trend_strength:.4f}\n\nSocial Metrics:\n- Volume: {social_volume}\n- Engagement: {social_engagement}\n- Contributors: {social_contributors}\n- Sentiment: {social_sentiment}\n\nRecent News:\n{recent_news}\n\nMarket Context:\n{market_context}\n\nProvide a trading decision based on:\n1. Price action and momentum indicators\n2. Trend analysis and technical indicators\n3. Social sentiment and news impact\n4. Volume analysis\n5. Risk assessment\n\nRespond with a JSON object containing:\n- decision: 'BUY', 'SELL', or 'HOLD'\n- confidence: value between 0 and 1\n- reasoning: detailed explanation of the analysis\n- risk_level: 'LOW', 'MEDIUM', or 'HIGH'\n- key_indicators: list of most influential indicators for this decision",
        "explainable_analysis_prompt": "As a cryptocurrency trading expert, analyze the market conditions for {symbol} with:\n\nPrice Action:\nPrice: ${price:.8f}\n24h Volume: ${volume:.2f}\n1m Change: {price_change_1m:.2f}%\n3m Change: {price_change_3m:.2f}%\n5m Change: {price_change_5m:.2f}%\n15m Change: {price_change_15m:.2f}%\n\nTechnical Indicators:\n- RSI: {rsi:.2f}\n- Stochastic K: {stoch:.2f}\n- MACD: {macd:.8f}\n- Williams %R: {williams_r:.2f}\n- Bollinger Band Position: {bb_position:.4f}\n\nMarket Trend:\n- Direction: {trend}\n- Strength: {trend_strength:.4f}\n\nSocial Metrics:\n- Volume: {social_volume}\n- Engagement: {social_engagement}\n- Contributors: {social_contributors}\n- Sentiment: {social_sentiment}\n\nRecent News:\n{recent_news}\n\nMarket Context:\n{market_context}\n\nProvide a detailed trading analysis based on:\n1. Price action and momentum indicators\n2. Trend analysis and technical indicators\n3. Social sentiment and news impact\n4. Volume analysis\n5. Risk assessment\n\nRespond with a JSON object containing:\n- decision: 'BUY', 'SELL', or 'HOLD'\n- confidence: value between 0 and 1\n- reasoning: detailed explanation of the analysis\n- risk_level: 'LOW', 'MEDIUM', or 'HIGH'\n- key_indicators: list of most influential indicators for this decision\n- explanation: {\n  \"summary\": \"concise explanation of the decision\",\n  \"technical_factors\": \"detailed explanation of technical analysis factors\",\n  \"social_factors\": \"detailed explanation of social metrics impact\",\n  \"key_indicators\": [\"list of key indicators that influenced the decision\"],\n  \"risk_assessment\": \"detailed risk assessment\"\n}\n- factor_weights: {\n  \"technical_indicators\": {\n    \"rsi\": value between 0 and 1,\n    \"macd\": value between 0 and 1,\n    \"bollinger_bands\": value between 0 and 1,\n    \"price_action\": value between 0 and 1,\n    \"other\": value between 0 and 1\n  },\n  \"price_action\": {\n    \"momentum\": value between 0 and 1,\n    \"volatility\": value between 0 and 1,\n    \"volume\": value between 0 and 1\n  },\n  \"social_metrics\": {\n    \"sentiment\": value between 0 and 1,\n    \"volume\": value between 0 and 1,\n    \"engagement\": value between 0 and 1\n  },\n  \"market_context\": value between 0 and 1\n}",
        "risk_prompt": "Analyze risk and position sizing for {symbol} trade with:\n\nAvailable Capital: ${capital:.2f}\nVolatility: {volatility:.2f}\nCurrent Price: ${price:.8f}\nTrend Strength: {trend_strength:.4f}\n\nProvide a JSON response with:\n- position_size: recommended position size as a decimal (0-1)\n- stop_loss_pct: recommended stop loss percentage\n- take_profit_pct: recommended take profit percentage\n- reasoning: detailed explanation of the recommendations",
        "market_prompt": "Analyze overall market conditions based on the following data:\n\n{market_data}\n\nProvide a JSON response with:\n- market_sentiment: 'BULLISH', 'BEARISH', or 'NEUTRAL'\n- top_opportunities: list of symbols with highest potential\n- risks: list of current market risks\n- reasoning: detailed explanation of the analysis",
        "explainable_market_prompt": "Analyze overall market conditions based on the following data:\n\n{market_data}\n\nProvide a comprehensive analysis with the following JSON structure:\n- market_sentiment: 'BULLISH', 'BEARISH', or 'NEUTRAL'\n- top_opportunities: list of symbols with highest potential\n- risks: list of current market risks\n- reasoning: detailed explanation of the analysis\n- explanation: {\n  \"summary\": \"concise summary of market conditions\",\n  \"market_factors\": \"detailed explanation of key market factors\",\n  \"key_trends\": [\"list of important market trends\"],\n  \"risk_factors\": [\"list of risk factors to watch\"],\n  \"sentiment_indicators\": [\"key sentiment indicators influencing the market\"],\n  \"recommendation_rationale\": \"rationale for the top opportunities\"\n}\n- factor_weights: {\n  \"price_action\": value between 0 and 1,\n  \"technical_indicators\": value between 0 and 1,\n  \"volume_analysis\": value between 0 and 1,\n  \"social_sentiment\": value between 0 and 1,\n  \"market_trends\": value between 0 and 1\n}"
    },
    "lunarcrush": {
        "api_key": "",
        "base_url": "https://lunarcrush.com/api/v4",
        "endpoints": {
            "assets": "/assets",
            "market": "/market",
            "feeds": "/feeds"
        },
        "update_interval": 300,
        "metrics": {
            "required": [
                "social_volume",
                "social_engagement",
                "social_contributors",
                "social_sentiment"
            ],
            "optional": [
                "twitter_volume",
                "reddit_volume",
                "news_volume",
                "search_volume"
            ]
        },
        "sentiment_weights": {
            "social_volume": 0.2,
            "social_engagement": 0.3,
            "social_contributors": 0.2,
            "social_sentiment": 0.3
        },
        "cache_duration": 300,
        "max_news_age": 3600,
        "min_engagement": 1000
    },
    "evolution": {
        "min_sharpe_ratio": 1.2,
        "max_drawdown": 15.0,
        "min_win_rate": 0.52,
        "min_profit_factor": 1.2,
        "improvement_threshold": 0.1,
        "max_iterations": 10,
        "convergence_criteria": 0.02,
        "strategy_types": [
            "momentum",
            "breakout",
            "scalping"
        ],
        "timeframes": [
            "1m",
            "3m",
            "5m"
        ],
        "worker_templates": {
            "base": {
                "memory_limit": "128MB",
                "cpu_limit": "10ms",
                "timeout": 10000
            },
            "backtest": {
                "memory_limit": "256MB",
                "cpu_limit": "50ms",
                "timeout": 30000
            }
        },
        "strategy_prompt_template": {
            "system": "You are an expert algorithmic trader specializing in cryptocurrency markets. Create a complete trading strategy that maximizes profit while managing risk effectively.",
            "strategy_requirements": [
                "Must include proper risk management",
                "Must handle error conditions gracefully",
                "Must include position sizing logic",
                "Must implement stop-loss and take-profit mechanisms",
                "Must include performance monitoring"
            ],
            "code_requirements": [
                "Must be compatible with Cloudflare Workers",
                "Must be memory efficient",
                "Must handle API rate limits",
                "Must include proper error handling",
                "Must be stateless"
            ]
        },
        "performance_metrics": {
            "required": [
                "sharpe_ratio",
                "sortino_ratio",
                "max_drawdown",
                "win_rate",
                "profit_factor",
                "average_trade",
                "total_trades",
                "profit_loss"
            ],
            "optional": [
                "calmar_ratio",
                "omega_ratio",
                "recovery_factor",
                "risk_reward_ratio",
                "expectancy"
            ]
        },
        "risk_management": {
            "max_position_size": 0.4,
            "max_open_positions": 5,
            "max_daily_drawdown": 0.06,
            "max_correlation": 0.7,
            "min_liquidity": 50000
        },
        "optimization_goals": {
            "primary": "sharpe_ratio",
            "secondary": [
                "max_drawdown",
                "win_rate",
                "profit_factor"
            ],
            "constraints": {
                "min_trades_per_day": 20,
                "max_trades_per_day": 50,
                "min_holding_period": "1m",
                "max_holding_period": "15m"
            }
        }
    },
    "worker_defaults": {
        "routes": {
            "strategy": "/api/strategy/*",
            "monitor": "/api/monitor/*",
            "backtest": "/api/backtest/*"
        },
        "headers": {
            "Access-Control-Allow-Origin": "*",
            "Access-Control-Allow-Methods": "GET, POST, OPTIONS",
            "Access-Control-Allow-Headers": "Content-Type"
        },
        "caching": {
            "browser_ttl": 0,
            "edge_ttl": 30
        }
    },
    "feature_importance": {
        "enabled": true,
        "analysis_interval": 86400,
        "min_data_points": 1000,
        "n_permutations": 30,
        "test_size": 0.3,
        "random_state": 42,
        "n_estimators": 100,
        "max_depth": null,
        "service_port": 8007,
        "feature_pruning_threshold": 0.25,
        "min_importance_threshold": 0.01,
        "save_visualizations": true,
        "report_retention_days": 30,
        "auto_optimize_model": true,
        "recalibration_triggers": {
            "significant_market_shift": true,
            "performance_degradation": true,
            "new_feature_addition": true,
            "periodic_schedule": true
        },
        "notification_channels": ["redis", "file"],
        "weight_update_enabled": true
    },
    "market_regime": {
        "enabled": true,
        "check_interval": 1800,
        "detection_method": "hybrid",
        "ml_method": "kmeans",
        "lookback_periods": {
            "short": 24,
            "medium": 72,
            "long": 168
        },
        "thresholds": {
            "bull": {
                "trend_strength": 0.6,
                "price_change": 5.0,
                "volatility": 0.5
            },
            "bear": {
                "trend_strength": 0.6,
                "price_change": -5.0,
                "volatility": 0.5
            },
            "volatile": {
                "volatility": 1.5
            },
            "ranging": {
                "trend_strength": 0.3,
                "price_range": 3.0
            }
        },
        "ml_config": {
            "window_size": 30,
            "n_regimes": 4,
            "features": [
                "return",
                "volatility",
                "trend_strength",
                "rsi",
                "macd",
                "bb_width",
                "adx",
                "cci"
            ]
        },
        "training_interval": 86400,
        "min_training_samples": 100,
        "visualization_enabled": true,
        "primary_symbol": "BTCUSDC",
        "primary_timeframe": "1h",
        "service_port": 8005
    },
    "neural_network": {
        "enabled": true,
        "model_type": "lstm",
        "ensemble_enabled": false,
        "prediction_intervals": ["1h", "4h", "24h"],
        "symbols": ["BTCUSDC", "ETHUSDC", "BNBUSDC"],
        "training_lookback_days": 60,
        "sequence_length": 60,
        "batch_size": 32,
        "epochs": 100,
        "learning_rate": 0.001,
        "dropout_rate": 0.2,
        "model_checkpoint_interval": 86400,
        "features": [
            "close", 
            "volume", 
            "rsi", 
            "macd", 
            "bb_position", 
            "stoch_k", 
            "williams_r", 
            "ema_12", 
            "ema_26"
        ],
        "loss_function": "mean_squared_error",
        "optimizer": "adam",
        "prediction_confidence_threshold": 0.6,
        "service_port": 8010,
        "visualization_enabled": true,
        "model_architectures": {
            "lstm": {
                "layers": [64, 32],
                "units_per_layer": [64, 32]
            },
            "gru": {
                "layers": [64, 32],
                "units_per_layer": [64, 32]
            },
            "bidirectional": {
                "layers": [64, 32],
                "units_per_layer": [64, 32]
            },
            "cnn_lstm": {
                "cnn_filters": [64, 32],
                "lstm_units": 32
            },
            "attention": {
                "num_heads": 2,
                "key_dim": 32,
                "lstm_units": 64
            }
        },
        "integration": {
            "strategy_weight": 0.6,
            "risk_assessment_weight": 0.4,
            "combine_with_other_signals": true,
            "trigger_alerts": true
        }
    }
}
